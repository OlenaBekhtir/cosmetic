<script>

  // Список товарів

  const products = [
    {
      "name": "FaceMakeup",
      "title": "Консилер для обличчя рідкий LN",
      "price": 45.00,
      "image": "./img/facemakeup_prod1.jpg",
      "info": "Conceal популярного бренда LN Professional ідеально замаскує усі недосконалості шкіри. Рідка консистенція чудово розподіляється на шкірі, бездоганно приховує недоліки, сліди втоми і вирівнює тон",
      colors: {
        "nude": "./img/facemakeup_prod1_1.jpg",
        "green": "./img/facemakeup_prod1_2.jpg",
        "beige": "./img/facemakeup_prod1_3.jpg",
      }
    },
    {
      "name": "FaceMakeup",
      "title": "Пудра-скульптор TF COSMETICS",
      "price": 125.00,
      "image": "./img/facemakeup_prod2.jpg",
      "info": "Модний багатофункціональний продукт для макіяжу обличчя. Ніжна бархатиста текстура з ефектом природного світіння надає шкірі сяючий вигляд.Скульптування з PRO SCULPTOR POWDER полягає в грамотному затемненні і висвітленні певних зон",
      colors: {
        "світлий середній": "./img/facemakeup_prod2_1.jpg",
        "середній": "./img/facemakeup_prod2_2.jpg",
        "бежевий": "./img/facemakeup_prod2_3.jpg",
      }
    },
    {
      "name": "FaceMakeup",
      "title": "Бронзер для обличчя LN",
      "price": 73.00,
      "image": "./img/facemakeup_prod3.jpg",
      "info": "Бронзуюча пудра надає шкірі легкий ефект засмаги і підкреслює природну гарну засмагу",
      colors: {
        "Solar Gold": "./img/facemakeup_prod3_1.jpg",
        "Desert bronze": "./img/facemakeup_prod3_2.jpg",
      }
    },
    {
      "name": "FaceMakeup",
      "title": "Рум'яна компактні Bless Beauty",
      "price": 67.00,
      "image": "./img/facemakeup_prod4.jpg",
      "info": "Футляр містить в собі два відтінки компактних рум’ян, що здатні доповнити та покращити будь-який образ. Їх можна використовувати для створення натурального рум’янцю, для корекції овалу обличчя та для ефекту легкої засмаги",
      colors: {
        "Palette Blush №01": "./img/facemakeup_prod4_1.jpg",
        "Palette Blush №02": "./img/facemakeup_prod4_2.jpg",
        "Palette Blush №03": "./img/facemakeup_prod4_3.jpg",
      }
    },
    {
      "name": "FaceMakeup",
      "title": "Палетка для контуринга TF",
      "price": 134.00,
      "image": "./img/facemakeup_prod5.jpg",
      "info": "У складі три бездоганно підібраних продукти: КОНТУР - для коригування овалу обличчя. Його відтінок створює напівпрозоре покриття і дозволяє домогтися природного ефекту тіні. Хайлайтер - додасть делікатного сяйва. РУМЯНА додадуть макіяжу свіжість і завершать образ",
      colors: {
        "рожево-бежевий": "./img/facemakeup_prod5_1.jpg",
        "золотисто-коричневий": "./img/facemakeup_prod5_2.jpg",
        "холодний рожевий": "./img/facemakeup_prod5_3.jpg",
      }
    },
    {
      "name": "EyesMakeup",
      "title": "Олівець для очей LORINA",
      "price": 33.00,
      "image": "./img/eyesmakeup_prod1.jpg",
      "info": "Унікальна текстура і багата палітра відтінків дозволяє використовувати олівець в якості контуру для очей. Основу олівців виготовлено з натурального дерева",
      colors: {
        "White frostt": "./img/eyesmakeup_prod1_1.jpg",
        "Black": "./img/eyesmakeup_prod1_2.jpg",
        "Silver": "./img/eyesmakeup_prod1_3.jpg",
      }
    },
    {
      "name": "EyesMakeup",
      "title": "Олівець для очей механічний TF",
      "price": 48.00,
      "image": "./img/eyesmakeup_prod2.jpg",
      "info": "Автоматичний олівець-лайнер для очей з ніжною гелевою текстурою і насиченою пігментами формулою, дозволить c зручністю і легкістю втілити найрізноманітніші ефекти підводки",
      colors: {
        "Black": "./img/eyesmakeup_prod2_1.jpg",
        "Olive brown": "./img/eyesmakeup_prod2_2.jpg",
        "Coffee brown": "./img/eyesmakeup_prod2_3.jpg",
      }
    },
    {
      "name": "EyesMakeup",
      "title": "Тіні для повік двохколірні TF",
      "price": 64.00,
      "image": "./img/eyesmakeup_prod3.jpg",
      "info": "Модні і професійні перлинні і матові мікро-гелеві текстури. Поєднання двох контрастних кольорів, що ідеально доповнюють один одного, дає можливість створювати бездоганний макіяж",
      colors: {
        "№208": "./img/eyesmakeup_prod3_1.jpg",
        "№211": "./img/eyesmakeup_prod3_2.jpg",
        "№218": "./img/eyesmakeup_prod3_3.jpg",
      }
    },
    {
      "name": "EyesMakeup",
      "title": "Тіні для повік потрійні",
      "price": 67.00,
      "image": "./img/eyesmakeup_prod4.jpg",
      "info": "Тіні делікатно взаємодіють з чутливою шкірою повік і не подразнюють її. Зручний футляр доповнений ергономічним аплікатором і невеликим дзеркальцем",
      colors: {
        "№01": "./img/eyesmakeup_prod4_1.jpg",
        "№04": "./img/eyesmakeup_prod4_2.jpg",
        "№08": "./img/eyesmakeup_prod4_3.jpg"
      }
    },
    {
      "name": "EyesMakeup",
      "title": "Підводка для очей",
      "price": 69.00,
      "image": "./img/eyesmakeup_prod5.jpg",
      "info": "З підводкою від Christian ви зробите бездоганні стрілки за лічені хвилини. Зручний у використанні продукт оснащений ергономічним аплікатором, за допомогою якого дуже легко намалювати акуратні й чіткі лінії",
      colors: {
        "DISCO NIGHT": "./img/eyesmakeup_prod5_1.jpg",
        "FIRST GIRL": "./img/eyesmakeup_prod5_2.jpg",
        "MEGA CITY": "./img/eyesmakeup_prod5_3.jpg"
      }
    },
    {
      "name": "LipsMakeup",
      "title": "Олівець для губ LORINA",
      "price": 33.00,
      "image": "./img/lipsmakeup_prod1.jpg",
      "info": "Олівець - невід'ємна частина макіяжу губ. Саме завдяки йому, помада не розтікається за межі, а губи набувають гарний, чіткий контур",
      "colors": {
        "Pink rose": "./img/lipsmakeup_prod1_1.jpg",
        "Cappucino": "./img/lipsmakeup_prod1_2.jpg",
        "Silver mauye": "./img/lipsmakeup_prod1_3.jpg"
      }
    },
    {
      "name": "LipsMakeup",
      "title": "Помада для губ лакова LORINA",
      "price": 75.00,
      "image": "./img/lipsmakeup_prod2.jpg",
      "info": "Лакова помада подарує губам незрівнянний колір, глянсове мерехтіння, чудовий об'єм. Рівне покриття, надійний захист і абсолютний комфорт для ніжних губ. Гіпоалергенна",
      "colors": {
        "№01": "./img/lipsmakeup_prod2_1.jpg",
        "№08": "./img/lipsmakeup_prod2_2.jpg",
        "№11": "./img/lipsmakeup_prod2_3.jpg"
      }
    },
    {
      "name": "LipsMakeup",
      "title": "Блиск-глітер для губ",
      "price": 59.00,
      "image": "./img/lipsmakeup_prod3.jpg",
      "info": "Блиск-глітер для губ з голографічним ефектом LN Professional Holo Gloss Lip Glitter",
      "colors": {
        "Ice queen": "./img/lipsmakeup_prod3_1.jpg",
        "Disco queen": "./img/lipsmakeup_prod3_2.jpg",
        "Night queen": "./img/lipsmakeup_prod3_3.jpg"
      }
    },
    {
      "name": "LipsMakeup",
      "title": "Помада для губ TF COSMETICS",
      "price": 120.00,
      "image": "./img/lipsmakeup_prod4.jpg",
      "info": "Помада створена в двох варіантах: з глянцевими, соковитими, пігментованими відтінками, що ідеально поєднуються з будь-яким тоном шкіри і в варіації «мерехтливий шиммер» з вологим фінішем",
      "colors": {
        "№702": "./img/lipsmakeup_prod4_1.jpg",
        "№711": "./img/lipsmakeup_prod4_2.jpg",
        "№721": "./img/lipsmakeup_prod4_3.jpg",
      }
    },
    {
      "name": "LipsMakeup",
      "title": "Олійка для губ Bless",
      "price": 50.00,
      "image": "./img/lipsmakeup_prod5.jpg",
      "info": "Ретельно розроблена формула дарує губам м'якість та шовковистість, живить та зволожує, захищає від згубного впливу сонячного випромінювання",
      "colors": {
        "Cherry": "./img/lipsmakeup_prod5_1.jpg",
        "Coconut": "./img/lipsmakeup_prod5_2.jpg",
        "Peach": "./img/lipsmakeup_prod5_3.jpg",
      }
    },
    {
      "name": "Amakeup",
      "title": "Смаколики Медовик",
      "price": 1036.00,
      "image": "./img/smakolyky_prod1.jpg",
      "info": "Матеріали: Мед, чорнослив, вершки, сир, карамель. Термін виконання: 3 дні",
      "colors": {
        "цілий": "./img/smakolyky_prod1.jpg",
        "розрізаний": "./img/smakolyky_prod1_1.jpg",
      }
    },
    {
      "name": "Amakeup",
      "title": "Смаколики Торт для хлопчиків",
      "price": 460.00,
      "image": "./img/smakolyky_prod2.jpg",
      "info": "Коржовий тортик. Є 10 варіантів смаків. З радістю підберемо для Вас улюблений смак. Ціна 403-460 грн/кг (залежить від обраного смаку). Декор обраховується окремо та додається до вартості готового виробу.",
      "colors": {
        "гонки": "./img/smakolyky_prod2_1.jpg",
        "супергерой": "./img/smakolyky_prod2_2.jpg",
        "ведмедик": "./img/smakolyky_prod2_3.jpg"
      }
    },
    {
      "name": "Amakeup",
      "title": "Смаколики Торт Орео",
      "price": 1150.00,
      "image": "./img/smakolyky_prod3.jpg",
      "info": "Матеріали: Шоколад, вершки, сир, какао, печиво Орео. Термін виконання: 3 дні",
      "colors": {
        "цілий": "./img/smakolyky_prod3.jpg",
        "розрізаний": "./img/smakolyky_prod3_1.jpg",
      }
    },
    {
      "name": "Amakeup",
      "title": "Смаколики Торт весільний",
      "price": 2072.00,
      "image": "./img/smakolyky_prod4.jpg",
      "info": "Коржовий тортик. Є 10 варіантів смаків. З радістю підберемо для Вас улюблений смак. Ціна 460-518 грн/кг (залежить від обраного смаку). Декор обраховується окремо та додається до вартості готового виробу.",
      "colors": {
        "квіти": "./img/smakolyky_prod4_1.jpg",
        "літаки": "./img/smakolyky_prod4_2.jpg",
        "кільця": "./img/smakolyky_prod4_3.jpg",
      }
    },
    {
      "name": "Amakeup",
      "title": "Смаколики Торт для леді",
      "price": 460.00,
      "image": "./img/smakolyky_prod5.jpg",
      "info": "Коржовий тортик. Є 10 варіантів смаків. З радістю підберемо для Вас улюблений смак. Ціна 403-460 грн/кг (залежить від обраного смаку). Декор обраховується окремо та додається до вартості готового виробу.",
      "colors": {
        "ніжний": "./img/smakolyky_prod5_1.jpg",
        "кульки": "./img/smakolyky_prod5_2.jpg",
        "принцеси": "./img/smakolyky_prod5_3.jpg",
      }
    },
    {
      "name": "Nail",
      "title": "Аксесуар Гаманець",
      "price": 1112.00,
      "image": "./img/acsecuary_prod1.jpg",
      "info": "Стильний гаманець з натуральної шкіри crazy horse Орнаменти для тиснення розроблені художником Власне виробництво продукції Зручні та практичні Всередині 6 відділень на картки, 2 великі відділення на купюри та відділення на копійки на замочку",
      "colors": {
        "збільшене": "./img/acsecuary_prod1_1.jpg",
        "зсередини": "./img/acsecuary_prod1_2.jpg",
      }
    },
    {
      "name": "Nail",
      "title": "Аксесуар Перчатки",
      "price": 980.00,
      "image": "./img/acsecuary_prod2.jpg",
      "info": "М'які, ніжні до рук, достатньо тоненькі, щоб почуватись комфортно та зберігати тепло. Можна замовити в іншому кольорі, під Ваші розміри",
      "colors": {
        "зверху": "./img/acsecuary_prod2_1.jpg",
        "зсередини": "./img/acsecuary_prod2_2.jpg",
      }
    },
    {
      "name": "Nail",
      "title": "Аксесуар Свічка",
      "price": 280.00,
      "image": "./img/acsecuary_prod3.jpg",
      "info": "Матеріали: Форма з високоміцного гіпсу, соєвий віск (85 г), якісна аромаолія (має солодкуватий аромат)",
      "colors": {
        "біла, червона, чорна": "./img/acsecuary_prod3_1.jpg",
        "рожева": "./img/acsecuary_prod3.jpg",
      }
    },
    {
      "name": "Nail",
      "title": "Аксесуар Обкладинка паспорта",
      "price": 384.00,
      "image": "./img/acsecuary_prod4.jpg",
      "info": "Обкладинка для паспорта жіноча шкіряна бордова з тисненням Калина, Натуральна шкіра вищої якості",
      "colors": {
        "розгорнутий": "./img/acsecuary_prod4_1.jpg",
        "зсередини": "./img/acsecuary_prod4_2.jpg",
        "ззаду": "./img/acsecuary_prod4_3.jpg"
      }
    },
    {
      "name": "Nail",
      "title": "Аксесуар Гільзи-брелоки",
      "price": 210.00,
      "image": "./img/acsecuary_prod5.jpg",
      "info": "Гільзи-брелоки, Брелок Київ, Брелоки жовто-блакитні, Український сувенір, Брелок з квітами.",
      "colors": {
        "зверху": "./img/acsecuary_prod5_1.jpg",
        "на підвісці": "./img/acsecuary_prod5_2.jpg",
        "з обох боків": "./img/acsecuary_prod5_3.jpg"
      }
    },
    {
      "name": "Hair",
      "title": "Декор Автомобіль-свічка",
      "price": 350.00,
      "image": "./img/decor_prod1.jpg",
      "info": "Матеріали: Високоміцний гіпс, якісні соєвий віск (50 мл) і аромаолія, дерев’яний гніт, що потріскує як камін.",
      "colors": {
        "кремовий": "./img/decor_prod1_1.jpg",
        "червоний": "./img/decor_prod1_2.jpg",
        "спереду": "./img/decor_prod1_3.jpg"
      }
    },
    {
      "name": "Hair",
      "title": "Декор Різдвяний",
      "price": 350.00,
      "image": "./img/decor_prod2.jpg",
      "info": "Настінний декор у вигляді серця та Санта Клауса. Довжина 29 см + мотузка. Чудово підійде як подарунок на Різдвяні свята",
      "colors": {
        "збільшене": "./img/decor_prod2_1.jpg",
        "збоку": "./img/decor_prod2_2.jpg",
        "спереду": "./img/decor_prod2_3.jpg",
      }
    },
    {
      "name": "Hair",
      "title": "Декор Новорічний",
      "price": 700.00,
      "image": "./img/decor_prod3.jpg",
      "info": "Набір Новорічних іграшок. Яскраві і чарівні медальйони ручної роботи в техніці декупаж та декоровані стрічкою з прошвою",
      "colors": {
        "збільшене": "./img/decor_prod3_1.jpg",
        "зверху": "./img/decor_prod3.jpg",
      }
    },
    {
      "name": "Hair",
      "title": "Декор Стефанія",
      "price": 2100.00,
      "image": "./img/decor_prod4.jpg",
      "info": "Лялька в єдиному екземплярі, ручна робота. Всередині м'яка, без каркасу, наповнена холофайбером. Капелюх та жилетка знімаються. У вартість ляльки входить дерев'яна підставка (висота 28 см, діаметр 9 см, вага 88 г) та подарункова біла коробка (36*16*8, см)",
      "colors": {
        "збоку": "./img/decor_prod4_1.jpg",
        "окремі елементи": "./img/decor_prod4_2.jpg",
        "ззаду": "./img/decor_prod4_3.jpg"
      }
    },
    {
      "name": "Hair",
      "title": "Декор Чашка подарункова",
      "price": 770.00,
      "image": "./img/decor_prod5.jpg",
      "info": "Чашка з ручним розписом в стилі дот-арт. Покрита спеціальним лаком і закріплена термофіксацією. Не липне до рук під час використання. Чашка керамічна, біла глянцева зовні, біла всередині. 300 мл. Підходить для гарячих і холодних напоїв.",
      "colors": {
        "різні кольори": "./img/decor_prod5_1.jpg",
        "збоку": "./img/decor_prod5_2.jpg",
      }
    },
    {
      "name": "Body",
      "title": "Декор Подушка Етно",
      "price": 1330.00,
      "image": "./img/decor_prod6.jpg",
      "info": "Чудова декоративна подушечка виконана в техніці килимова вишивка. Ззаду доповнена декоративним мереживом. В даній подушці використано старовинний етно орнамент птаха з подільського килима. Розмір 41*41",
      "colors": {
        "різні кольори": "./img/decor_prod6_1.jpg",
        "з усіх боків": "./img/decor_prod6_2.jpg",
      }
    },
    {
      "name": "Body",
      "title": "Картина Квітковий бум",
      "price": 5180.00,
      "image": "./img/kartyny_prod1.jpg",
      "info": "Матеріали: Полотно, олія. Розміри: г 2 х д 65 х ш 50 см. Вага: 800.00 г",
      colors: {
        "збоку": "./img/kartyny_prod1_1.jpg",
        "збільшене": "./img/kartyny_prod1_2.jpg",
        "загальний": "./img/kartyny_prod1_3.jpg",
      }
    },
    {
      "name": "Body",
      "title": "Картина Гранати",
      "price": 5180.00,
      "image": "./img/kartyny_prod2.jpg",
      "info": "Картина з гранатовим деревом, виконана олійними фарбами на полотні, натягнутому на дерев'яний підрамник.",
      colors: {
        "у рамці": "./img/kartyny_prod2_1.jpg",
        "без рамки": "./img/kartyny_prod2_2.jpg",
      }
    },
    {
      "name": "Body",
      "title": "Картина Синичка",
      "price": 2100.00,
      "image": "./img/kartyny_prod3.jpg",
      "info": "Українська синичка на зимовій калині. Матеріали: олійні фарби, лак, двп. Розміри: д 20 х ш 30 см",
      colors: {
        "збільшене": "./img/kartyny_prod3_1.jpg",
        "загальний": "./img/kartyny_prod3_2.jpg",
      }
    },
    {
      "name": "Body",
      "title": "Картина Ласиця",
      "price": 4660.00,
      "image": "./img/kartyny_prod4.jpg",
      "info": "Малюнок виконано на витриманій деревені волоського горіху, завдяки напівпрозорому нанесенню фарби природний візерунок гармонійно стає частиною зображення. Це невеличка картинка для полички або столика. Пухнаста красуня прикрасить собою вашу оселю та буде її берегти",
      colors: {
        "збільшене": "./img/kartyny_prod4_1.jpg",
        "загальний": "./img/kartyny_prod4_2.jpg",
      }
    },
    {
      "name": "Cbag",
      "title": "Картина Атлантида",
      "price": 7200.00,
      "image": "./img/kartyny_prod5.jpg",
      "info": "Картина в інтер'єр, виконана в сучасній техніці Resin Art, білий колір світиться вночі",
      colors: {
        "збільшене": "./img/kartyny_prod5_1.jpg",
        "загальний": "./img/kartyny_prod5_2.jpg",
      },
    },
    {
      "name": "Cbag",
      "title": "Картина Атлантида",
      "price": 7200.00,
      "image": "./img/kartyny_prod5.jpg",
      "info": "Картина в інтер'єр, виконана в сучасній техніці Resin Art, білий колір світиться вночі",
      colors: {
        "збільшене": "./img/kartyny_prod5_1.jpg",
        "загальний": "./img/kartyny_prod5_2.jpg",
      },
    },
    {
      "name": "Cbag",
      "title": "Картина Атлантида",
      "price": 7200.00,
      "image": "./img/kartyny_prod5.jpg",
      "info": "Картина в інтер'єр, виконана в сучасній техніці Resin Art, білий колір світиться вночі",
      colors: {
        "збільшене": "./img/kartyny_prod5_1.jpg",
        "загальний": "./img/kartyny_prod5_2.jpg",
      },
    },
    {
      "name": "Cbag",
      "title": "Картина Атлантида",
      "price": 7200.00,
      "image": "./img/kartyny_prod5.jpg",
      "info": "Картина в інтер'єр, виконана в сучасній техніці Resin Art, білий колір світиться вночі",
      colors: {
        "збільшене": "./img/kartyny_prod5_1.jpg",
        "загальний": "./img/kartyny_prod5_2.jpg",
      },
    },
    {
      "name": "Cbag",
      "title": "Картина Атлантида",
      "price": 7200.00,
      "image": "./img/kartyny_prod5.jpg",
      "info": "Картина в інтер'єр, виконана в сучасній техніці Resin Art, білий колір світиться вночі",
      colors: {
        "збільшене": "./img/kartyny_prod5_1.jpg",
        "загальний": "./img/kartyny_prod5_2.jpg",
      },
    }
  ]


  // Получаем контейнер для товаров
  const productsContainer = document.getElementById("products-container");

  // Отримуємо контейнер для відображення деталей товару
  const productDetailsContainer = document.getElementById("product-details");

  // Отримуємо список кнопок для зміни кількості колонок
  const buttons = document.querySelectorAll(".catalog-columns__btn");

  // Змінна для зберігання поточної кількості колонок
  let currentColumns = 4; // Значення за замовчуванням


  // Додаємо обробник подій для кожної кнопки
  buttons.forEach(button => {
    button.addEventListener("click", function () {
      // Отримуємо значення атрибута data-columns кнопки
      const columns = parseInt(this.getAttribute("data-columns"));

      // Змінюємо значення поточної кількості колонок
      currentColumns = columns;

      // Видаляємо клас catalog-columns__btn--current у всіх кнопок
      buttons.forEach(btn => {
        btn.classList.remove("catalog-columns__btn--current");
      });

      // Додаємо клас catalog-columns__btn--current обраній кнопці
      this.classList.add("catalog-columns__btn--current");

      // Викликаємо функцію для зміни кількості колонок та стилів
      changeColumns(currentColumns);

      // Получаем все чекбоксы категорий
      const categoryCheckboxes = document.querySelectorAll('.custom-checkbox__input');

      // Получаем все товары
      const productsArr = document.querySelectorAll('.product');


      // Добавляем обработчик события для каждого чекбокса
      categoryCheckboxes.forEach(checkbox => {
        checkbox.addEventListener('change', updateProducts);
      });

      // Знаходимо кнопку "Скинути фільтри"
      const resetFiltersButton = document.querySelector('.hide-filters.btn-reset');

      // Додаємо обробник події для кнопки
      resetFiltersButton.addEventListener('click', () => {
        // Скидуємо всі вибрані чекбокси категорій
        categoryCheckboxes.forEach(checkbox => {
          checkbox.checked = false;
        });
        // Отображаем все продукты
        productsArr.forEach(product => {
          product.style.display = 'flex';
        });
      });


      // Функция для обновления отображаемых товаров в зависимости от выбранных категорий
      function updateProducts() {
        // Получаем выбранные категории
        const selectedCategories = Array.from(categoryCheckboxes)
          .filter(checkbox => checkbox.checked)
          .map(checkbox => checkbox.parentElement.dataset.text);

        // Перебираем все товары и скрываем/показываем их в зависимости от выбранных категорий
        productsArr.forEach(product => {
          const productCategory = product.dataset.category;

          if (selectedCategories.length === 0 || selectedCategories.includes(productCategory)) {
            product.style.display = 'flex';
          } else {
            product.style.display = 'none';
          }
        });
      }

      // Фільтруємо товары по категориям
      const sortedProducts = Array.from(productsArr).sort((a, b) => {
        const titleA = a.dataset.category.toUpperCase();
        const titleB = b.dataset.category.toUpperCase();

        if (titleA < titleB) {
          return -1;
        }
        if (titleA > titleB) {
          return 1;
        }
        return 0;
      });

      // Очищаем контейнер перед добавлением відфільтрованих товаров
      productsContainer.innerHTML = '';

      // Добавляем відфільтровані товари к контейнеру на странице
      sortedProducts.forEach(product => {
        productsContainer.appendChild(product);
      });



      // СОРТУВАННЯ ТОВАРІВ ПО ЦІНІ ТА НАЗВІ

      // Фільтруємо товари по ціні
      const sortProductsByPrice = () => {
        // Отримуємо значення вибору з селектора
        const selectedValue = sortSelect.value;

        if (selectedValue === 'name') {
          // Очищаем контейнер перед добавлением відфільтрованих товаров
          productsContainer.innerHTML = '';

          // Добавляем відфільтровані товари к контейнеру на странице
          sortedProducts.forEach(product => {
            productsContainer.appendChild(product);
          });
        }

        // Якщо вибрано опцію "Спочатку дешевші" або "Спочатку дорожчі"
        if (selectedValue === 'cheap' || selectedValue === 'expensive') {
          // Створюємо копію масиву товарів для сортування
          const sortedProducts = Array.from(productsArr);

          // Сортуємо товари за ціною
          sortedProducts.sort((a, b) => {
            const priceA = parseFloat(a.querySelector('p').textContent.split(' ')[1]);
            const priceB = parseFloat(b.querySelector('p').textContent.split(' ')[1]);

            return selectedValue === 'cheap' ? priceA - priceB : priceB - priceA;
          });

          // Очищаємо контейнер перед додаванням відсортованих товарів
          productsContainer.innerHTML = '';

          // Додаємо відсортовані товари до контейнеру на сторінці
          sortedProducts.forEach(product => {
            productsContainer.appendChild(product);
          });
        }
      };

      // Додаємо обробник подій для селектора
      sortSelect.addEventListener('change', sortProductsByPrice);

    });
  });

  // Отримуємо кошик з локального сховища при завантаженні сторінки
  let cart = JSON.parse(localStorage.getItem("cart")) || [];

  // Функція для зміни кількості колонок та стилів
  function changeColumns(columns) {
    // Змінюємо стиль grid-template-columns відповідно до нової кількості колонок
    productsContainer.style.gridTemplateColumns = `repeat(${columns}, 1fr)`;

    // Очищаємо контейнер перед зміною кількості колонок
    productsContainer.innerHTML = "";

    // Проходимось по кожному товару і створюємо HTML-елемент для відображення
    products.forEach(product => {
      const productElement = document.createElement("div");
      productElement.classList.add("product");
      productElement.dataset.category = product.name;

      // Додаємо обробник подій для кожного товару
      productElement.addEventListener("click", function () {
        // Очищаємо контейнер перед виведенням деталей нового товару
        productDetailsContainer.innerHTML = "";

        // Створюємо елементи для відображення деталей товару
        const titleElement = document.createElement("h2");
        titleElement.textContent = product.title;

        const priceElement = document.createElement("p");
        priceElement.textContent = `Ціна: ${product.price.toFixed(2)} грн.`;

        const imageElement = document.createElement("img");
        imageElement.src = product.image;
        imageElement.alt = product.title;

        const infoElement = document.createElement("p");
        infoElement.textContent = product.info;

        // Додаємо можливість зміни кольору товару
        // Створюємо список для вибору кольорів
        const colorSelect = document.createElement("select");
        colorSelect.innerHTML = "<option value='' selected disabled>Обрати вигляд</option>";
        colorSelect.style.marginBottom = "10px";

        // Додаємо кожен доступний колір до списку
        Object.keys(product.colors).forEach(color => {
          const option = document.createElement("option");
          option.value = color;
          option.text = color;
          colorSelect.appendChild(option);
        });

        // Додаємо обробник подій до списку вибору кольору
        colorSelect.addEventListener("change", function () {
          // Отримуємо вибраний колір
          const selectedColor = colorSelect.value;

          // Отримуємо відповідну картинку для вибраного кольору

          const selectedImage = product.colors[selectedColor];
          imageElement.src = selectedImage;


          // Змінюємо шлях картинки товару
          imageElement.src = selectedImage;

          console.log("Вибраний колір:", selectedColor);
        });      

        const butElement = document.createElement("button");
        butElement.innerText = "Додати в кошик";


        // додаємо обробник подій до кнопки "додати в кошик"
        butElement.addEventListener("click", function () {
          const cartItem = {
            title: product.title,
            price: product.price,
            image: product.image,
            // інші властивості товару, які вам потрібні
          };

          // Додаємо товар до кошика
          cart.push(cartItem);

          // Зберігаємо оновлений кошик в локальному сховищі
          localStorage.setItem("cart", JSON.stringify(cart));

          console.log("Товар додано в кошик")
          console.log(cartItem)

          const messange = document.createElement('div');
          messange.innerText = "Товар додано в кошик";
          productDetailsContainer.append(messange);
        });


        // Додаємо створені елементи до контейнера деталей товару
        productDetailsContainer.appendChild(titleElement);
        productDetailsContainer.appendChild(priceElement);
        productDetailsContainer.appendChild(imageElement);
        productDetailsContainer.appendChild(infoElement);
        // Додаємо список вибору кольорів до контейнера деталей товару
        productDetailsContainer.appendChild(colorSelect);
        productDetailsContainer.appendChild(butElement);

        // Додаємо кнопку для закриття вікна
        const closeButton = document.createElement("button");
        closeButton.innerText = "Закрити";
        closeButton.style.margin = "10px";
        closeButton.addEventListener("click", function () {
          // Очищаємо контейнер для закриття вікна
          productDetailsContainer.innerHTML = "";
        });

        // Додаємо кнопку для закриття вікна до контейнера деталей товару
        productDetailsContainer.appendChild(closeButton);

        // Прокручуємо сторінку, щоб вікно було видимим
        productDetailsContainer.scrollIntoView({ behavior: "smooth" });

      });

      // Создаем элементы для отображения информации о товаре
      const titleElement = document.createElement("h3");
      titleElement.textContent = product.title;
      titleElement.style.marginBottom = "0";
      titleElement.style.fontStyle = 'italic';
      titleElement.style.textAlign = 'center';

      const priceElement = document.createElement("p");
      priceElement.textContent = `Ціна: ${product.price.toFixed(2)} грн.`;

      const imageElement = document.createElement("img");
      imageElement.src = product.image;
      imageElement.classList.add("product__image");
      imageElement.alt = product.title;
      imageElement.style.width = "100px";
      imageElement.style.height = "100px";
      imageElement.style.marginInline = "20px";
      imageElement.style.marginBottom = "30px";
      imageElement.style.borderRadius = '12px';

      // Добавляем созданные элементы к элементу товара
      productElement.appendChild(titleElement);
      productElement.appendChild(priceElement);
      productElement.appendChild(imageElement);

      // Додаємо створений елемент товару до контейнера на сторінці
      productsContainer.appendChild(productElement);
    });
  }

  // Викликаємо функцію для ініціалізації з поточною кількістю колонок
  changeColumns(currentColumns);


  // Получаем все чекбоксы категорий
  const categoryCheckboxes = document.querySelectorAll('.custom-checkbox__input');

  // Получаем все товары
  const productsArr = document.querySelectorAll('.product');


  // Добавляем обработчик события для каждого чекбокса
  categoryCheckboxes.forEach(checkbox => {
    checkbox.addEventListener('change', updateProducts);
  });

  // Знаходимо кнопку "Скинути фільтри"
  const resetFiltersButton = document.querySelector('.hide-filters.btn-reset');

  // Додаємо обробник події для кнопки
  resetFiltersButton.addEventListener('click', () => {
    // Скидуємо всі вибрані чекбокси категорій
    categoryCheckboxes.forEach(checkbox => {
      checkbox.checked = false;
    });
    // Отображаем все продукты
    productsArr.forEach(product => {
      product.style.display = 'flex';
    });
  });

  // Функция для обновления отображаемых товаров в зависимости от выбранных категорий
  function updateProducts() {
    // Получаем выбранные категории
    const selectedCategories = Array.from(categoryCheckboxes)
      .filter(checkbox => checkbox.checked)
      .map(checkbox => checkbox.parentElement.dataset.text);

    // Перебираем все товары и скрываем/показываем их в зависимости от выбранных категорий
    productsArr.forEach(product => {
      const productCategory = product.dataset.category;

      if (selectedCategories.length === 0 || selectedCategories.includes(productCategory)) {
        product.style.display = 'flex';
      } else {
        product.style.display = 'none';
      }
    });
  }

  // Фільтруємо товары по категориям
  const sortedProducts = Array.from(productsArr).sort((a, b) => {
    const titleA = a.dataset.category.toUpperCase();
    const titleB = b.dataset.category.toUpperCase();

    if (titleA < titleB) {
      return -1;
    }
    if (titleA > titleB) {
      return 1;
    }
    return 0;
  });

  // Очищаем контейнер перед добавлением відфільтрованих товаров
  productsContainer.innerHTML = '';

  // Добавляем відфільтровані товари к контейнеру на странице
  sortedProducts.forEach(product => {
    productsContainer.appendChild(product);
  });



  // СОРТУВАННЯ ТОВАРІВ ПО ЦІНІ ТА НАЗВІ

  // Фільтруємо товари по ціні
  const sortProductsByPrice = () => {
    // Отримуємо значення вибору з селектора
    const selectedValue = sortSelect.value;

    if (selectedValue === 'name') {
      // Очищаем контейнер перед добавлением відфільтрованих товаров
      productsContainer.innerHTML = '';

      // Добавляем відфільтровані товари к контейнеру на странице
      sortedProducts.forEach(product => {
        productsContainer.appendChild(product);
      });
    }

    // Якщо вибрано опцію "Спочатку дешевші" або "Спочатку дорожчі"
    if (selectedValue === 'cheap' || selectedValue === 'expensive') {
      // Створюємо копію масиву товарів для сортування
      const sortedProducts = Array.from(productsArr);

      // Сортуємо товари за ціною
      sortedProducts.sort((a, b) => {
        const priceA = parseFloat(a.querySelector('p').textContent.split(' ')[1]);
        const priceB = parseFloat(b.querySelector('p').textContent.split(' ')[1]);

        return selectedValue === 'cheap' ? priceA - priceB : priceB - priceA;
      });

      // Очищаємо контейнер перед додаванням відсортованих товарів
      productsContainer.innerHTML = '';

      // Додаємо відсортовані товари до контейнеру на сторінці
      sortedProducts.forEach(product => {
        productsContainer.appendChild(product);
      });
    }
  };

  // Додаємо обробник подій для селектора
  sortSelect.addEventListener('change', sortProductsByPrice);


</script>
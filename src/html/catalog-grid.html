<script>

  // Список товарів

  const products = [
    {
      "name": "FaceMakeup",
      "title": "Консилер для обличчя рідкий LN",
      "price": 45.00,
      "image": "./img/facemakeup_prod1.jpg",
      "info": "Conceal популярного бренда LN Professional ідеально замаскує усі недосконалості шкіри. Рідка консистенція чудово розподіляється на шкірі, бездоганно приховує недоліки, сліди втоми і вирівнює тон",
      colors: {
        "nude": "./img/facemakeup_prod1_1.jpg",
        "green": "./img/facemakeup_prod1_2.jpg",
        "beige": "./img/facemakeup_prod1_3.jpg",
      }
    },
    {
      "name": "FaceMakeup",
      "title": "Пудра-скульптор TF COSMETICS",
      "price": 125.00,
      "image": "./img/facemakeup_prod2.jpg",
      "info": "Модний багатофункціональний продукт для макіяжу обличчя. Ніжна бархатиста текстура з ефектом природного світіння надає шкірі сяючий вигляд.Скульптування з PRO SCULPTOR POWDER полягає в грамотному затемненні і висвітленні певних зон",
      colors: {
        "світлий середній": "./img/facemakeup_prod2_1.jpg",
        "середній": "./img/facemakeup_prod2_2.jpg",
        "бежевий": "./img/facemakeup_prod2_3.jpg",
      }
    },
    {
      "name": "FaceMakeup",
      "title": "Бронзер для обличчя LN",
      "price": 73.00,
      "image": "./img/facemakeup_prod3.jpg",
      "info": "Бронзуюча пудра надає шкірі легкий ефект засмаги і підкреслює природну гарну засмагу",
      colors: {
        "Solar Gold": "./img/facemakeup_prod3_1.jpg",
        "Desert bronze": "./img/facemakeup_prod3_2.jpg",
      }
    },
    {
      "name": "FaceMakeup",
      "title": "Рум'яна компактні Bless Beauty",
      "price": 67.00,
      "image": "./img/facemakeup_prod4.jpg",
      "info": "Футляр містить в собі два відтінки компактних рум’ян, що здатні доповнити та покращити будь-який образ. Їх можна використовувати для створення натурального рум’янцю, для корекції овалу обличчя та для ефекту легкої засмаги",
      colors: {
        "Palette Blush №01": "./img/facemakeup_prod4_1.jpg",
        "Palette Blush №02": "./img/facemakeup_prod4_2.jpg",
        "Palette Blush №03": "./img/facemakeup_prod4_3.jpg",
      }
    },
    {
      "name": "FaceMakeup",
      "title": "Палетка для контуринга TF",
      "price": 134.00,
      "image": "./img/facemakeup_prod5.jpg",
      "info": "У складі три бездоганно підібраних продукти: КОНТУР - для коригування овалу обличчя. Його відтінок створює напівпрозоре покриття і дозволяє домогтися природного ефекту тіні. Хайлайтер - додасть делікатного сяйва. РУМЯНА додадуть макіяжу свіжість і завершать образ",
      colors: {
        "рожево-бежевий": "./img/facemakeup_prod5_1.jpg",
        "золотисто-коричневий": "./img/facemakeup_prod5_2.jpg",
        "холодний рожевий": "./img/facemakeup_prod5_3.jpg",
      }
    },
    {
      "name": "EyesMakeup",
      "title": "Олівець для очей LORINA",
      "price": 33.00,
      "image": "./img/eyesmakeup_prod1.jpg",
      "info": "Унікальна текстура і багата палітра відтінків дозволяє використовувати олівець в якості контуру для очей. Основу олівців виготовлено з натурального дерева",
      colors: {
        "White frostt": "./img/eyesmakeup_prod1_1.jpg",
        "Black": "./img/eyesmakeup_prod1_2.jpg",
        "Silver": "./img/eyesmakeup_prod1_3.jpg",
      }
    },
    {
      "name": "EyesMakeup",
      "title": "Олівець для очей механічний TF",
      "price": 48.00,
      "image": "./img/eyesmakeup_prod2.jpg",
      "info": "Автоматичний олівець-лайнер для очей з ніжною гелевою текстурою і насиченою пігментами формулою, дозволить c зручністю і легкістю втілити найрізноманітніші ефекти підводки",
      colors: {
        "Black": "./img/eyesmakeup_prod2_1.jpg",
        "Olive brown": "./img/eyesmakeup_prod2_2.jpg",
        "Coffee brown": "./img/eyesmakeup_prod2_3.jpg",
      }
    },
    {
      "name": "EyesMakeup",
      "title": "Тіні для повік двохколірні TF",
      "price": 64.00,
      "image": "./img/eyesmakeup_prod3.jpg",
      "info": "Модні і професійні перлинні і матові мікро-гелеві текстури. Поєднання двох контрастних кольорів, що ідеально доповнюють один одного, дає можливість створювати бездоганний макіяж",
      colors: {
        "№208": "./img/eyesmakeup_prod3_1.jpg",
        "№211": "./img/eyesmakeup_prod3_2.jpg",
        "№218": "./img/eyesmakeup_prod3_3.jpg",
      }
    },
    {
      "name": "EyesMakeup",
      "title": "Тіні для повік потрійні",
      "price": 67.00,
      "image": "./img/eyesmakeup_prod4.jpg",
      "info": "Тіні делікатно взаємодіють з чутливою шкірою повік і не подразнюють її. Зручний футляр доповнений ергономічним аплікатором і невеликим дзеркальцем",
      colors: {
        "№01": "./img/eyesmakeup_prod4_1.jpg",
        "№04": "./img/eyesmakeup_prod4_2.jpg",
        "№08": "./img/eyesmakeup_prod4_3.jpg"
      }
    },
    {
      "name": "EyesMakeup",
      "title": "Підводка для очей",
      "price": 69.00,
      "image": "./img/eyesmakeup_prod5.jpg",
      "info": "З підводкою від Christian ви зробите бездоганні стрілки за лічені хвилини. Зручний у використанні продукт оснащений ергономічним аплікатором, за допомогою якого дуже легко намалювати акуратні й чіткі лінії",
      colors: {
        "DISCO NIGHT": "./img/eyesmakeup_prod5_1.jpg",
        "FIRST GIRL": "./img/eyesmakeup_prod5_2.jpg",
        "MEGA CITY": "./img/eyesmakeup_prod5_3.jpg"
      }
    },
    {
      "name": "LipsMakeup",
      "title": "Олівець для губ LORINA",
      "price": 33.00,
      "image": "./img/lipsmakeup_prod1.jpg",
      "info": "Олівець - невід'ємна частина макіяжу губ. Саме завдяки йому, помада не розтікається за межі, а губи набувають гарний, чіткий контур",
      "colors": {
        "Pink rose": "./img/lipsmakeup_prod1_1.jpg",
        "Cappucino": "./img/lipsmakeup_prod1_2.jpg",
        "Silver mauye": "./img/lipsmakeup_prod1_3.jpg"
      }
    },
    {
      "name": "LipsMakeup",
      "title": "Помада для губ лакова LORINA",
      "price": 75.00,
      "image": "./img/lipsmakeup_prod2.jpg",
      "info": "Лакова помада подарує губам незрівнянний колір, глянсове мерехтіння, чудовий об'єм. Рівне покриття, надійний захист і абсолютний комфорт для ніжних губ. Гіпоалергенна",
      "colors": {
        "№01": "./img/lipsmakeup_prod2_1.jpg",
        "№08": "./img/lipsmakeup_prod2_2.jpg",
        "№11": "./img/lipsmakeup_prod2_3.jpg"
      }
    },
    {
      "name": "LipsMakeup",
      "title": "Блиск-глітер для губ",
      "price": 59.00,
      "image": "./img/lipsmakeup_prod3.jpg",
      "info": "Блиск-глітер для губ з голографічним ефектом LN Professional Holo Gloss Lip Glitter",
      "colors": {
        "Ice queen": "./img/lipsmakeup_prod3_1.jpg",
        "Disco queen": "./img/lipsmakeup_prod3_2.jpg",
        "Night queen": "./img/lipsmakeup_prod3_3.jpg"
      }
    },
    {
      "name": "LipsMakeup",
      "title": "Помада для губ TF COSMETICS",
      "price": 120.00,
      "image": "./img/lipsmakeup_prod4.jpg",
      "info": "Помада створена в двох варіантах: з глянцевими, соковитими, пігментованими відтінками, що ідеально поєднуються з будь-яким тоном шкіри і в варіації «мерехтливий шиммер» з вологим фінішем",
      "colors": {
        "№702": "./img/lipsmakeup_prod4_1.jpg",
        "№711": "./img/lipsmakeup_prod4_2.jpg",
        "№721": "./img/lipsmakeup_prod4_3.jpg",
      }
    },
    {
      "name": "LipsMakeup",
      "title": "Олійка для губ Bless",
      "price": 50.00,
      "image": "./img/lipsmakeup_prod5.jpg",
      "info": "Ретельно розроблена формула дарує губам м'якість та шовковистість, живить та зволожує, захищає від згубного впливу сонячного випромінювання",
      "colors": {
        "Cherry": "./img/lipsmakeup_prod5_1.jpg",
        "Coconut": "./img/lipsmakeup_prod5_2.jpg",
        "Peach": "./img/lipsmakeup_prod5_3.jpg",
      }
    },
    {
      "name": "Amakeup",
      "title": "Набір пензликів для макіяжу ",
      "price": 500.00,
      "image": "./img/amakeup_prod1.jpg",
      "info": "MB-226 Набір пензликів для макіяжу (22 інструменти) maXmaR в шкіряному футлярі",
      "colors": {
        "футляр": "./img/amakeup_prod1_1.jpg",
        "пензлики": "./img/amakeup_prod1_2.jpg",
        "пензлики в футлярі": "./img/amakeup_prod1_3.jpg"
      }
    },
    {
      "name": "Amakeup",
      "title": "Набір пензликів для макіяжу на підставці",
      "price": 260.00,
      "image": "./img/amakeup_prod2.jpg",
      "info": "MB-162 Набір пензликів для макіяжу на підставці (5 інструментів) maXmaR. Пензлик для пудри, для тіней і для рум'ян, для брів і для тонального. Це один з найбільш оригінальних і практичних наборів.",
      "colors": {
        "підставка з пензликами": "./img/amakeup_prod2_1.jpg",
        "пензлики": "./img/amakeup_prod2_2.jpg",
        "збільшене": "./img/amakeup_prod2_3.jpg"
      }
    },
    {
      "name": "Amakeup",
      "title": "Спонж для макіяжу",
      "price": 30.00,
      "image": "./img/amakeup_prod3.jpg",
      "info": "Спонж для макіяжу Крапля зі зрізом",
      "colors": {
        "збільшене": "./img/amakeup_prod3_1.jpg",
        "різнокольорові": "./img/amakeup_prod3_2.jpg",
      }
    },
    {
      "name": "Amakeup",
      "title": "Пінцет для брів",
      "price": 45.00,
      "image": "./img/amakeup_prod4.jpg",
      "info": "CTW-105 Пінцет для брів CHRISTIAN  виготовлений з міцного матеріалу надзвичайно високої якості. Дужки інструменту дуже тісно прилягають одна до одної, що дозволяє висмикнути навіть самий короткий волосок",
      "colors": {
        "загальний": "./img/amakeup_prod4_1.jpg",
        "збільшене": "./img/amakeup_prod4_2.jpg",
        "сбоку": "./img/amakeup_prod4_3.jpg",
      }
    },
    {
      "name": "Amakeup",
      "title": "Гребінець для брів",
      "price": 70.00,
      "image": "./img/amakeup_prod5.jpg",
      "info": "Гребінець для брів, розділення і завивки вій maXmaR, MB-154 - універсальний професійний інструмент для коригування вій і брів.",
      "colors": {
        "спереду": "./img/amakeup_prod5_1.jpg",
        "зверху": "./img/amakeup_prod5_2.jpg",
        "збільшене": "./img/amakeup_prod5_3.jpg",
      }
    },
    {
      "name": "Nail",
      "title": "База кольорова каучукова",
      "price": 175.00,
      "image": "./img/nail_prod1.jpg",
      "info": "База кольорова каучукова Global Fashion Color French Rubber Base Coat, 8 мл",
      "colors": {
        "№ 02": "./img/nail_prod1_1.jpg",
        "№ 03": "./img/nail_prod1_2.jpg",
        "№ 04": "./img/nail_prod1_3.jpg"
      }
    },
    {
      "name": "Nail",
      "title": "Топ матовий",
      "price": 208.00,
      "image": "./img/nail_prod2.jpg",
      "info": "Топ матовий з ефектом Перепелиного яйця GLOBAL FASHION, 12 мл",
      "colors": {
        "№ 01": "./img/nail_prod2_1.jpg",
        "№ 02": "./img/nail_prod2_2.jpg",
        "№ 03": "./img/nail_prod2_3.jpg"
      }
    },
    {
      "name": "Nail",
      "title": "Гель-лак BLACK ELITE",
      "price": 73.00,
      "image": "./img/nail_prod3.jpg",
      "info": "Гель-лак BLACK ELITE (8 мл) - це сучасна професійна трифазна система гель-лакового покриття, що поєднує в собі кращі властивості професійних лаків для нігтів і моделюючих гелів",
      "colors": {
        "№ 135": "./img/nail_prod3_1.jpg",
        "№ 238": "./img/nail_prod3_2.jpg",
        "№ 03": "./img/nail_prod3_3.jpg"
      }
    },
    {
      "name": "Nail",
      "title": "Ультрабонд GLOBAL FASHION",
      "price": 104.00,
      "image": "./img/nail_prod4.jpg",
      "info": "Ultrabond - це засіб-грунтовка, не містить метакрилової кислоти. Ultrabond більш безпечний для своїх нігтів ніж засоби, що містять кисле середовище. Він захищає пластину нігтя і кутикулу від перегріву і печіння. ",
      "colors": {
        "загальний": "./img/nail_prod4_1.jpg",
        "збоку": "./img/nail_prod4_2.jpg",
      }
    },
    {
      "name": "Nail",
      "title": "Полігель POLY UV",
      "price": 312.00,
      "image": "./img/nail_prod5.jpg",
      "info": "Полігель - це інноваційний продукт для моделювання нігтів, який є щось середнім між гелем і акрилом. З двох традиційних систем прибрали всі недоліки, залишивши лише переваги",
      "colors": {
        "№ 02": "./img/nail_prod5_1.jpg",
        "№ 05": "./img/nail_prod5_2.jpg",
        "№ 08": "./img/nail_prod5_3.jpg"
      }
    },
    {
      "name": "Hair",
      "title": "Гребінець середньозубий",
      "price": 25.00,
      "image": "./img/hair_prod1.jpg",
      "info": "CLR-275 Гребінець середньозубий з ручкою CHRISTIAN - популярна дитяча модель гребінця в синьому кольорі. Гребінець виконаний з досить гнучкого матеріалу і дбайливо розчісує волосся будь-якого типу, не видираючи їх з коренем",
      "colors": {
        "кремовий": "./img/hair_prod1_1.jpg",
        "червоний": "./img/hair_prod1_2.jpg",
        "спереду": "./img/hair_prod1_3.jpg"
      }
    },
    {
      "name": "Hair",
      "title": "Гребінець карбоновий антистатичний",
      "price": 45.00,
      "image": "./img/hair_prod2.jpg",
      "info": "CLR-314 Гребінець карбоновий антистатичний середньозубий з металевою вилкою CHRISTIAN",
      "colors": {
        "загальний": "./img/hair_prod2_1.jpg",
        "збільшене": "./img/hair_prod2_2.jpg",
        "збоку": "./img/hair_prod2_3.jpg",
      }
    },
    {
      "name": "Hair",
      "title": "Пензлик для фарбування",
      "price": 35.00,
      "image": "./img/hair_prod3.jpg",
      "info": "Пензлик для фарбування волосся з гребінцем CHRISTIAN. Штучною щетиною пензлика, міцно запресованої в торець ручки, зручно наносити фарбу на волосся, а однорядний гребінець допоможе розподілити її по всій довжині пасма",
      "colors": {
        "CTB-276": "./img/hair_prod3_1.jpg",
        "CTB-277": "./img/hair_prod3_2.jpg",
      }
    },
    {
      "name": "Hair",
      "title": "Шампунь Schauma",
      "price": 82.00,
      "image": "./img/hair_prod4.jpg",
      "info": "Шампунь Schauma в асортименті. Зроблено в: Німеччина. Об'єм: 400ml",
      "colors": {
        "Відновлення та догляд": "./img/hair_prod4_1.jpg",
        "Fresh it Up!": "./img/hair_prod4_2.jpg",
        "Ніжне відновлення": "./img/hair_prod4_3.jpg"
      }
    },
    {
      "name": "Hair",
      "title": "Маска Garnier Fructis",
      "price": 229.00,
      "image": "./img/hair_prod5.jpg",
      "info": "Маска Garnier Fructis Superfood Mask Папайя Відновлення, для пошкодженого волосся, 390 мл",
      "colors": {
        "загальний": "./img/hair_prod5_1.jpg",
        "склад": "./img/hair_prod5_2.jpg",
        "зверху": "./img/hair_prod5_3.jpg"
      }
    },
    {
      "name": "Body",
      "title": "Паста цукрова для шугарингу",
      "price": 179.00,
      "image": "./img/body_prod1_1.jpg",
      "info": "Паста цієї серії дуже пластична, швидко нагрівається до температури тіла, легко видаляє будь-які волоски. Склад: глюкоза, фруктоза, вода. Оптимальна температура цукрової пасти для роботи 27-28 ° C. Обсяг -900 гр",
      "colors": {
        "середня": "./img/body_prod1_1.jpg",
        "щільна": "./img/body_prod1_2.jpg",
        "м'яка": "./img/body_prod1_3.jpg"
      }
    },
    {
      "name": "Body",
      "title": "Шиммер для тіла",
      "price": 209.00,
      "image": "./img/body_prod2_1.jpg",
      "info": "Надає шкірі сяйва з легким ефектом засмаги. Завдяки вмісту кокосової олії захищає і зволожує тіло, усуває лущення, вирівнює текстуру, дарує шкірі приємний екзотичний аромат",
      colors: {
        "Rose Gold": "./img/body_prod2_1.jpg",
        "Glam Shine": "./img/body_prod2_2.jpg",
        "Bronze": "./img/body_prod2_3.jpg"
      }
    },
    {
      "name": "Body",
      "title": "Спрей для тіла",
      "price": 132.00,
      "image": "./img/body_prod3.jpg",
      "info": "Lazell Спрей для тіла парфумований 200 мл. Легка формула спрею дозволяє багаторазово використовувати продукт протягом дня",
      colors: {
        "TROPICAL DREAMS": "./img/body_prod3_1.jpg",
        "BLACK ONYX": "./img/body_prod3_2.jpg",
        "FRUIT IN LOVE": "./img/body_prod3_3.jpg"
      }
    },
    {
      "name": "Body",
      "title": "Гель для душу",
      "price": 139.00,
      "image": "./img/body_prod4.jpg",
      "info": "Гель для душу Mr.SCRUBBER Jelly Bubbles, 300 мл",
      colors: {
        "Blackberry Sorbet": "./img/body_prod4_1.jpg",
        "Juicy Mango": "./img/body_prod4_2.jpg",
        "Chocolate": "./img/body_prod4_3.jpg"
      }
    },
    {
      "name": "Body",
      "title": "Цукровий скраб для тіла",
      "price": 219.00,
      "image": "./img/body_prod5.jpg",
      "info": "Цукровий скраб для тіла Sugar Baby Mr.SCRUBBER",
      colors: {
        "Cherry Bomb": "./img/body_prod5_1.jpg",
        "Tiffany’s Breakfast": "./img/body_prod5_2.jpg",
        "Mandarin": "./img/body_prod5_3.jpg"
      }
    },
    {
      "name": "Cbag",
      "title": "Косметичка Christian",
      "price": 149.00,
      "image": "./img/cbag_prod1.jpg",
      "info": "Модель косметички BM-220 від MaxMar оснащена надійною застібкою на блискавці. Практичний аксесуар квадратної форми виконаний в стьобаному стилі",
      colors: {
        "спереду": "./img/cbag_prod1_1.jpg",
        "застібка": "./img/cbag_prod1_2.jpg",
        "зсередини": "./img/cbag_prod1_3.jpg",
      },
    },
    {
      "name": "Cbag",
      "title": "Косметичка BC-97W",
      "price": 237.00,
      "image": "./img/cbag_prod2.jpg",
      "info": "Косметичка BC-97W виготовлена ​​зі штучної високоякісної шкіри білого кольору, оснащена надійною застібкою на блискавці.  Усередині виробу передбачено одне велике відділення",
      colors: {
        "спереду": "./img/cbag_prod2_1.jpg",
        "застібка": "./img/cbag_prod2_2.jpg",
        "зсередини": "./img/cbag_prod2_3.jpg",
      },
    },
    {
      "name": "Cbag",
      "title": "Косметичка",
      "price": 98.00,
      "image": "./img/cbag_prod3.jpg",
      "info": "Косметичка (9-181-328)",
      colors: {
        "спереду": "./img/cbag_prod3_1.jpg",
        "в різних кольорах": "./img/cbag_prod3_2.jpg",
        "зсередини": "./img/cbag_prod3_3.jpg"
      },
    },
    {
      "name": "Cbag",
      "title": "Набір косметичок",
      "price": 381.00,
      "image": "./img/cbag_prod4.jpg",
      "info": "Набір косметичок (3 шт.) (83-4742)",
      colors: {
        "загальний": "./img/cbag_prod4_1.jpg",
        "складені": "./img/cbag_prod4_2.jpg",
        "зсередини": "./img/cbag_prod4_3.jpg"
      },
    },
    {
      "name": "Cbag",
      "title": "Жіноча косметичка",
      "price": 290.00,
      "image": "./img/cbag_prod5.jpg",
      "info": "Жіноча косметичка Beauty LUXURY WB-2002 Рожева",
      colors: {
        "спереду": "./img/cbag_prod5_1.jpg",
        "ззаду": "./img/cbag_prod5_2.jpg"
      },
    }
  ]


  // Получаем контейнер для товаров
  const productsContainer = document.getElementById("products-container");

  // Отримуємо контейнер для відображення деталей товару
  const productDetailsContainer = document.getElementById("product-details");

  // Отримуємо список кнопок для зміни кількості колонок
  const buttons = document.querySelectorAll(".catalog-columns__btn");

  // Змінна для зберігання поточної кількості колонок
  let currentColumns = 4; // Значення за замовчуванням


  // Додаємо обробник подій для кожної кнопки
  buttons.forEach(button => {
    button.addEventListener("click", function () {
      // Отримуємо значення атрибута data-columns кнопки
      const columns = parseInt(this.getAttribute("data-columns"));

      // Змінюємо значення поточної кількості колонок
      currentColumns = columns;

      // Видаляємо клас catalog-columns__btn--current у всіх кнопок
      buttons.forEach(btn => {
        btn.classList.remove("catalog-columns__btn--current");
      });

      // Додаємо клас catalog-columns__btn--current обраній кнопці
      this.classList.add("catalog-columns__btn--current");

      // Викликаємо функцію для зміни кількості колонок та стилів
      changeColumns(currentColumns);

      // Получаем все чекбоксы категорий
      const categoryCheckboxes = document.querySelectorAll('.custom-checkbox__input');

      // Получаем все товары
      const productsArr = document.querySelectorAll('.product');


      // Добавляем обработчик события для каждого чекбокса
      categoryCheckboxes.forEach(checkbox => {
        checkbox.addEventListener('change', updateProducts);
      });

      // Знаходимо кнопку "Скинути фільтри"
      const resetFiltersButton = document.querySelector('.hide-filters.btn-reset');

      // Додаємо обробник події для кнопки
      resetFiltersButton.addEventListener('click', () => {
        // Скидуємо всі вибрані чекбокси категорій
        categoryCheckboxes.forEach(checkbox => {
          checkbox.checked = false;
        });
        // Отображаем все продукты
        productsArr.forEach(product => {
          product.style.display = 'flex';
        });
      });


      // Функция для обновления отображаемых товаров в зависимости от выбранных категорий
      function updateProducts() {
        // Получаем выбранные категории
        const selectedCategories = Array.from(categoryCheckboxes)
          .filter(checkbox => checkbox.checked)
          .map(checkbox => checkbox.parentElement.dataset.text);

        // Перебираем все товары и скрываем/показываем их в зависимости от выбранных категорий
        productsArr.forEach(product => {
          const productCategory = product.dataset.category;

          if (selectedCategories.length === 0 || selectedCategories.includes(productCategory)) {
            product.style.display = 'flex';
          } else {
            product.style.display = 'none';
          }
        });
      }

      // Фільтруємо товары по категориям
      const sortedProducts = Array.from(productsArr).sort((a, b) => {
        const titleA = a.dataset.category.toUpperCase();
        const titleB = b.dataset.category.toUpperCase();

        if (titleA < titleB) {
          return -1;
        }
        if (titleA > titleB) {
          return 1;
        }
        return 0;
      });

      // Очищаем контейнер перед добавлением відфільтрованих товаров
      productsContainer.innerHTML = '';

      // Добавляем відфільтровані товари к контейнеру на странице
      sortedProducts.forEach(product => {
        productsContainer.appendChild(product);
      });



      // СОРТУВАННЯ ТОВАРІВ ПО ЦІНІ ТА НАЗВІ

      // Фільтруємо товари по ціні
      const sortProductsByPrice = () => {
        // Отримуємо значення вибору з селектора
        const selectedValue = sortSelect.value;

        if (selectedValue === 'name') {
          // Очищаем контейнер перед добавлением відфільтрованих товаров
          productsContainer.innerHTML = '';

          // Добавляем відфільтровані товари к контейнеру на странице
          sortedProducts.forEach(product => {
            productsContainer.appendChild(product);
          });
        }

        // Якщо вибрано опцію "Спочатку дешевші" або "Спочатку дорожчі"
        if (selectedValue === 'cheap' || selectedValue === 'expensive') {
          // Створюємо копію масиву товарів для сортування
          const sortedProducts = Array.from(productsArr);

          // Сортуємо товари за ціною
          sortedProducts.sort((a, b) => {
            const priceA = parseFloat(a.querySelector('p').textContent.split(' ')[1]);
            const priceB = parseFloat(b.querySelector('p').textContent.split(' ')[1]);

            return selectedValue === 'cheap' ? priceA - priceB : priceB - priceA;
          });

          // Очищаємо контейнер перед додаванням відсортованих товарів
          productsContainer.innerHTML = '';

          // Додаємо відсортовані товари до контейнеру на сторінці
          sortedProducts.forEach(product => {
            productsContainer.appendChild(product);
          });
        }
      };

      // Додаємо обробник подій для селектора
      sortSelect.addEventListener('change', sortProductsByPrice);

    });
  });

  // Отримуємо кошик з локального сховища при завантаженні сторінки
  let cart = JSON.parse(localStorage.getItem("cart")) || [];

  // Функція для зміни кількості колонок та стилів
  function changeColumns(columns) {
    // Змінюємо стиль grid-template-columns відповідно до нової кількості колонок
    productsContainer.style.gridTemplateColumns = `repeat(${columns}, 1fr)`;

    // Очищаємо контейнер перед зміною кількості колонок
    productsContainer.innerHTML = "";

    // Проходимось по кожному товару і створюємо HTML-елемент для відображення
    products.forEach(product => {
      const productElement = document.createElement("div");
      productElement.classList.add("product");
      productElement.dataset.category = product.name;

      // Додаємо обробник подій для кожного товару
      productElement.addEventListener("click", function () {
        // Очищаємо контейнер перед виведенням деталей нового товару
        productDetailsContainer.innerHTML = "";

        // Створюємо елементи для відображення деталей товару
        const titleElement = document.createElement("h2");
        titleElement.textContent = product.title;

        const priceElement = document.createElement("p");
        priceElement.textContent = `Ціна: ${product.price.toFixed(2)} грн.`;

        const imageElement = document.createElement("img");
        imageElement.src = product.image;
        imageElement.alt = product.title;

        const infoElement = document.createElement("p");
        infoElement.textContent = product.info;

        // Додаємо можливість зміни кольору товару
        // Створюємо список для вибору кольорів
        const colorSelect = document.createElement("select");
        colorSelect.innerHTML = "<option value='' selected disabled>Обрати вигляд</option>";
        colorSelect.style.marginBottom = "10px";

        // Додаємо кожен доступний колір до списку
        Object.keys(product.colors).forEach(color => {
          const option = document.createElement("option");
          option.value = color;
          option.text = color;
          colorSelect.appendChild(option);
        });

        // Додаємо обробник подій до списку вибору кольору
        colorSelect.addEventListener("change", function () {
          // Отримуємо вибраний колір
          const selectedColor = colorSelect.value;

          // Отримуємо відповідну картинку для вибраного кольору

          const selectedImage = product.colors[selectedColor];
          imageElement.src = selectedImage;


          // Змінюємо шлях картинки товару
          imageElement.src = selectedImage;

          console.log("Вибраний колір:", selectedColor);
        });      

        const butElement = document.createElement("button");
        butElement.innerText = "Додати в кошик";


        // додаємо обробник подій до кнопки "додати в кошик"
        butElement.addEventListener("click", function () {
          const cartItem = {
            title: product.title,
            price: product.price,
            image: product.image,
            // інші властивості товару, які вам потрібні
          };

          // Додаємо товар до кошика
          cart.push(cartItem);

          // Зберігаємо оновлений кошик в локальному сховищі
          localStorage.setItem("cart", JSON.stringify(cart));

          console.log("Товар додано в кошик")
          console.log(cartItem)

          const messange = document.createElement('div');
          messange.innerText = "Товар додано в кошик";
          productDetailsContainer.append(messange);
        });


        // Додаємо створені елементи до контейнера деталей товару
        productDetailsContainer.appendChild(titleElement);
        productDetailsContainer.appendChild(priceElement);
        productDetailsContainer.appendChild(imageElement);
        productDetailsContainer.appendChild(infoElement);
        // Додаємо список вибору кольорів до контейнера деталей товару
        productDetailsContainer.appendChild(colorSelect);
        productDetailsContainer.appendChild(butElement);

        // Додаємо кнопку для закриття вікна
        const closeButton = document.createElement("button");
        closeButton.innerText = "Закрити";
        closeButton.style.margin = "10px";
        closeButton.addEventListener("click", function () {
          // Очищаємо контейнер для закриття вікна
          productDetailsContainer.innerHTML = "";
        });

        // Додаємо кнопку для закриття вікна до контейнера деталей товару
        productDetailsContainer.appendChild(closeButton);

        // Прокручуємо сторінку, щоб вікно було видимим
        productDetailsContainer.scrollIntoView({ behavior: "smooth" });

      });

      // Создаем элементы для отображения информации о товаре
      const titleElement = document.createElement("h3");
      titleElement.textContent = product.title;
      titleElement.style.marginBottom = "0";
      titleElement.style.fontStyle = 'italic';
      titleElement.style.textAlign = 'center';

      const priceElement = document.createElement("p");
      priceElement.textContent = `Ціна: ${product.price.toFixed(2)} грн.`;

      const imageElement = document.createElement("img");
      imageElement.src = product.image;
      imageElement.classList.add("product__image");
      imageElement.alt = product.title;
      imageElement.style.width = "100px";
      imageElement.style.height = "100px";
      imageElement.style.marginInline = "20px";
      imageElement.style.marginBottom = "30px";
      imageElement.style.borderRadius = '12px';

      // Добавляем созданные элементы к элементу товара
      productElement.appendChild(titleElement);
      productElement.appendChild(priceElement);
      productElement.appendChild(imageElement);

      // Додаємо створений елемент товару до контейнера на сторінці
      productsContainer.appendChild(productElement);
    });
  }

  // Викликаємо функцію для ініціалізації з поточною кількістю колонок
  changeColumns(currentColumns);


  // Получаем все чекбоксы категорий
  const categoryCheckboxes = document.querySelectorAll('.custom-checkbox__input');

  // Получаем все товары
  const productsArr = document.querySelectorAll('.product');


  // Добавляем обработчик события для каждого чекбокса
  categoryCheckboxes.forEach(checkbox => {
    checkbox.addEventListener('change', updateProducts);
  });

  // Знаходимо кнопку "Скинути фільтри"
  const resetFiltersButton = document.querySelector('.hide-filters.btn-reset');

  // Додаємо обробник події для кнопки
  resetFiltersButton.addEventListener('click', () => {
    // Скидуємо всі вибрані чекбокси категорій
    categoryCheckboxes.forEach(checkbox => {
      checkbox.checked = false;
    });
    // Отображаем все продукты
    productsArr.forEach(product => {
      product.style.display = 'flex';
    });
  });

  // Функция для обновления отображаемых товаров в зависимости от выбранных категорий
  function updateProducts() {
    // Получаем выбранные категории
    const selectedCategories = Array.from(categoryCheckboxes)
      .filter(checkbox => checkbox.checked)
      .map(checkbox => checkbox.parentElement.dataset.text);

    // Перебираем все товары и скрываем/показываем их в зависимости от выбранных категорий
    productsArr.forEach(product => {
      const productCategory = product.dataset.category;

      if (selectedCategories.length === 0 || selectedCategories.includes(productCategory)) {
        product.style.display = 'flex';
      } else {
        product.style.display = 'none';
      }
    });
  }

  // Фільтруємо товары по категориям
  const sortedProducts = Array.from(productsArr).sort((a, b) => {
    const titleA = a.dataset.category.toUpperCase();
    const titleB = b.dataset.category.toUpperCase();

    if (titleA < titleB) {
      return -1;
    }
    if (titleA > titleB) {
      return 1;
    }
    return 0;
  });

  // Очищаем контейнер перед добавлением відфільтрованих товаров
  productsContainer.innerHTML = '';

  // Добавляем відфільтровані товари к контейнеру на странице
  sortedProducts.forEach(product => {
    productsContainer.appendChild(product);
  });



  // СОРТУВАННЯ ТОВАРІВ ПО ЦІНІ ТА НАЗВІ

  // Фільтруємо товари по ціні
  const sortProductsByPrice = () => {
    // Отримуємо значення вибору з селектора
    const selectedValue = sortSelect.value;

    if (selectedValue === 'name') {
      // Очищаем контейнер перед добавлением відфільтрованих товаров
      productsContainer.innerHTML = '';

      // Добавляем відфільтровані товари к контейнеру на странице
      sortedProducts.forEach(product => {
        productsContainer.appendChild(product);
      });
    }

    // Якщо вибрано опцію "Спочатку дешевші" або "Спочатку дорожчі"
    if (selectedValue === 'cheap' || selectedValue === 'expensive') {
      // Створюємо копію масиву товарів для сортування
      const sortedProducts = Array.from(productsArr);

      // Сортуємо товари за ціною
      sortedProducts.sort((a, b) => {
        const priceA = parseFloat(a.querySelector('p').textContent.split(' ')[1]);
        const priceB = parseFloat(b.querySelector('p').textContent.split(' ')[1]);

        return selectedValue === 'cheap' ? priceA - priceB : priceB - priceA;
      });

      // Очищаємо контейнер перед додаванням відсортованих товарів
      productsContainer.innerHTML = '';

      // Додаємо відсортовані товари до контейнеру на сторінці
      sortedProducts.forEach(product => {
        productsContainer.appendChild(product);
      });
    }
  };

  // Додаємо обробник подій для селектора
  sortSelect.addEventListener('change', sortProductsByPrice);


</script>